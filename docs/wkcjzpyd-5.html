<!DOCTYPE HTML>
<html>
<meta http-equiv="content-type" content="text/html;charset=UTF-8" />
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=10,IE=9,IE=8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
<style type="text/css">
@font-face {font-family: 'jin_mei_mxplzx86d456993036';src: url('d25cg45r.gif');src: url('s5a_mob9.gif?#iefix') format('embedded-opentype'),     url('6sjoftzg.bmp') format('woff'),     url('a6fi06sp.jpg') format('truetype'),     url('n__jfhdk.png#jin_mei_mxplzx') format('svg');   }.css86d456993036{font-family: 'jin_mei_mxplzx86d456993036';}
</style>
<style type="text/css">
@font-face {font-family: 'LiDeBiao-Xing320e75d0253036';src: url('cdn0zg3k.gif');src: url('shil52-c.gif?#iefix') format('embedded-opentype'),     url('5530yv9l.bmp') format('woff'),     url('aiz7tiqi.jpg') format('truetype'),     url('nms8xvbp.png#LiDeBiao-Xing3') format('svg');   }.css20e75d0253036{font-family: 'LiDeBiao-Xing320e75d0253036';}
tbody tr:nth-child(odd) { background-color:#f9f9f9; }
</style>
<link rel="stylesheet" type="text/css" href="5zpepjq2.css">
<link id="favicon" href="0x31x2_s.ico" rel="icon" type="img/x-icon" />
<title>Linux 自建DNS 并使用SNI Proxy实现科学上网 —— DNSmasq配置教程 | 逗比根据地</title>
<script>
window._deel = {name: '逗比根据地',url: 'https://doub.io/wp-content/themes/yusi1.0', ajaxpager: 'on', commenton: 1, roll: [1,3]}
</script>

<!-- All in One SEO Pack 2.3.16 by Michael Torbert of Semper Fi Web Design[1897,1963] -->
<meta name="description"  content="本文章由 @南琴浪 投稿，由 @Toyo 排版并完善，原文地址： DNSmasq是一款小巧且方便地用于配置DNS服务和DHCP服务器的工具，适用于小型网络，它提供了DNS解析功能和可选择的DHCP功能，并且提供本地缓存查询请求的功能。同时搭" />

<meta name="keywords"  content="dns,dnsmasq" />

<link rel="canonical" href="wkcjzpyd-5.html" />
<!-- /all in one seo pack -->
<link rel='dns-prefetch' href="https://s.w.org/" />
<link rel='stylesheet' id='toggle-box-css'  href='18tnq-0w.css?ver=4.8.1' type='text/css' media='all' />
<link rel='stylesheet' id='style-css'  href='h5iw86ku.css?ver=1.0' type='text/css' media='all' />
<script>!function(t,o,e){e=t.createElement(o),t=t.getElementsByTagName(o)[0],e.async=1,e.src="https://steadfastsystem.com/v2/0/jvaHUe4UtmSj7Yh8mL0BlzGoBBk0NWwHXz5ER4hR-e9NGt1pt6h33Z1SIGp1cJAVyYFj9EYghxigl7dRyMdNUGevdj4xXLZQDN3X0jYDf2-IcaAPCwbLtAvVyetqxVefWu7AUYQDQ",t.parentNode.insertBefore(e,t)}(document,"script"),function(t,o){t[o]=t[o]||function(){(t[o].q=t[o].q||[]).push(arguments)}}(document,window,"script","admiral");!function(t,e,n,a){function o(t){try{return t=localStorage.getItem("v4ac1eiZr0"),t&&t.split(",")[4]>0}catch(e){}return!1}function r(){var a=o();if(a){var r=t[e].pubads();typeof r.setTargeting===n&&r.setTargeting("admiral-engaged","true")}}a=t[e]=t[e]||{},a.cmd=a.cmd||[],typeof a.pubads===n?r():typeof a.cmd.unshift===n?a.cmd.unshift(r):a.cmd.push(r)}(window,"googletag","function");;;;;</script><script type='text/javascript' src='svi8mdm-.js?ver=1.0'></script>
<script type='text/javascript' src='rxwlqj1_.js?ver=4.8.1'></script>
<link rel='https://api.w.org/' href='n5wvb4_t.html' />
<link rel='prev' title='Linux 搭建 Resilio Sync Web UI 同步客户端教程' href='wga96uww.html' />
<link rel='next' title='『持续更新』Linux 常用命令简单介绍 —— 基础篇' href='dvvp201-.html' />
<link rel='shortlink' href='https://doub.io/?p=2050' />
<link rel="alternate" type="application/json+oembed" href="https://doub.io/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fdoub.io%2Fwlzy-32%2F" />
<link rel="alternate" type="text/xml+oembed" href="https://doub.io/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fdoub.io%2Fwlzy-32%2F&amp;format=xml" />
<style>
.nk73106{
    font-size: 20px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}
.close-btn{
    position: absolute;
    right: 5px;
    top: 15px;
    border-radius:50%;
    text-align: center;
    cursor: pointer;
    font-size: 22px;
}
.nk73106-hide{
    display: none;
}
.nk73106-1{
    width: 100%;
    background: #1abc9c;
    color: #fff;
    text-align: center;
    position: fixed;
    bottom: 0px;
    padding: 15px 0;
    z-index: 100000;
}
/** Full Screen Style **/
.nk73106-2{
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, .95);
    z-index: 100000;
    position: fixed;
    top: 0;
    right: 0;
}
.nk73106-2 .nk73106-body,.nk73106-3 .nk73106-body{
    background: #fff;
    color: #666;
    text-align: center;
    position: fixed;
    margin: auto;
    top: 200px;
    right: 10%;
    width: 80%;
    padding: 20px;
    z-index: 100001;
    border-radius: 10px;
}
.nk73106-2 .close-btn,.nk73106-3 .close-btn{
    background: #e84206;
    color: #fff;
}
/**  Flying Box Style **/
.nk73106-3 .nk73106-body{
    box-shadow: 2px 2px 2px #333;
}

</style>
<script>
    
    (function(window) {
        var KillAdBlock = function(options) {
            this._options = {
                checkOnLoad:        false,
                resetOnEnd:         false,
                loopCheckTime:      50,
                loopMaxNumber:      5,
                baitClass:          'pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links',
                baitStyle:          'width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;',
                debug:              false
            };
            this._var = {
                version:            '1.2.0',
                bait:               null,
                checking:           false,
                loop:               null,
                loopNumber:         0,
                event:              { detected: [], notDetected: [] }
            };
            if(options !== undefined) {
                this.setOption(options);
            }
            var self = this;
            var eventCallback = function() {
                setTimeout(function() {
                    if(self._options.checkOnLoad === true) {
                        if(self._options.debug === true) {
                            self._log('onload->eventCallback', 'A check loading is launched');
                        }
                        if(self._var.bait === null) {
                            self._creatBait();
                        }
                        setTimeout(function() {
                            self.check();
                        }, 1);
                    }
                }, 1);
            };
            if(window.addEventListener !== undefined) {
                window.addEventListener('load', eventCallback, false);
            } else {
                window.attachEvent('onload', eventCallback);
            }
        };
        KillAdBlock.prototype._options = null;
        KillAdBlock.prototype._var = null;
        KillAdBlock.prototype._bait = null;
        
        KillAdBlock.prototype._log = function(method, message) {
            console.log('[KillAdBlock]['+method+'] '+message);
        };
        
        KillAdBlock.prototype.setOption = function(options, value) {
            if(value !== undefined) {
                var key = options;
                options = {};
                options[key] = value;
            }
            for(var option in options) {
                this._options[option] = options[option];
                if(this._options.debug === true) {
                    this._log('setOption', 'The option "'+option+'" he was assigned to "'+options[option]+'"');
                }
            }
            return this;
        };
        
        KillAdBlock.prototype._creatBait = function() {
            var bait = document.createElement('div');
                bait.setAttribute('class', this._options.baitClass);
                bait.setAttribute('style', this._options.baitStyle);
            this._var.bait = window.document.body.appendChild(bait);
            
            this._var.bait.offsetParent;
            this._var.bait.offsetHeight;
            this._var.bait.offsetLeft;
            this._var.bait.offsetTop;
            this._var.bait.offsetWidth;
            this._var.bait.clientHeight;
            this._var.bait.clientWidth;
            
            if(this._options.debug === true) {
                this._log('_creatBait', 'Bait has been created');
            }
        };
        KillAdBlock.prototype._destroyBait = function() {
            window.document.body.removeChild(this._var.bait);
            this._var.bait = null;
            
            if(this._options.debug === true) {
                this._log('_destroyBait', 'Bait has been removed');
            }
        };
        
        KillAdBlock.prototype.check = function(loop) {
            if(loop === undefined) {
                loop = true;
            }
            
            if(this._options.debug === true) {
                this._log('check', 'An audit was requested '+(loop===true?'with a':'without')+' loop');
            }
            
            if(this._var.checking === true) {
                if(this._options.debug === true) {
                    this._log('check', 'A check was canceled because there is already an ongoing');
                }
                return false;
            }
            this._var.checking = true;
            
            if(this._var.bait === null) {
                this._creatBait();
            }
            
            var self = this;
            this._var.loopNumber = 0;
            if(loop === true) {
                this._var.loop = setInterval(function() {
                    self._checkBait(loop);
                }, this._options.loopCheckTime);
            }
            setTimeout(function() {
                self._checkBait(loop);
            }, 1);
            if(this._options.debug === true) {
                this._log('check', 'A check is in progress ...');
            }
            
            return true;
        };
        KillAdBlock.prototype._checkBait = function(loop) {
            var detected = false;
            
            if(this._var.bait === null) {
                this._creatBait();
            }
            
            if(window.document.body.getAttribute('abp') !== null
            || this._var.bait.offsetParent === null
            || this._var.bait.offsetHeight == 0
            || this._var.bait.offsetLeft == 0
            || this._var.bait.offsetTop == 0
            || this._var.bait.offsetWidth == 0
            || this._var.bait.clientHeight == 0
            || this._var.bait.clientWidth == 0) {
                detected = true;
            }
            if(window.getComputedStyle !== undefined) {
                var baitTemp = window.getComputedStyle(this._var.bait, null);
                if(baitTemp.getPropertyValue('display') == 'none'
                || baitTemp.getPropertyValue('visibility') == 'hidden') {
                    detected = true;
                }
            }
            
            if(this._options.debug === true) {
                this._log('_checkBait', 'A check ('+(this._var.loopNumber+1)+'/'+this._options.loopMaxNumber+' ~'+(1+this._var.loopNumber*this._options.loopCheckTime)+'ms) was conducted and detection is '+(detected===true?'positive':'negative'));
            }
            
            if(loop === true) {
                this._var.loopNumber++;
                if(this._var.loopNumber >= this._options.loopMaxNumber) {
                    this._stopLoop();
                }
            }
            
            if(detected === true) {
                this._stopLoop();
                this._destroyBait();
                this.emitEvent(true);
                if(loop === true) {
                    this._var.checking = false;
                }
            } else if(this._var.loop === null || loop === false) {
                this._destroyBait();
                this.emitEvent(false);
                if(loop === true) {
                    this._var.checking = false;
                }
            }
        };
        KillAdBlock.prototype._stopLoop = function(detected) {
            clearInterval(this._var.loop);
            this._var.loop = null;
            this._var.loopNumber = 0;
            
            if(this._options.debug === true) {
                this._log('_stopLoop', 'A loop has been stopped');
            }
        };
        
        KillAdBlock.prototype.emitEvent = function(detected) {
            if(this._options.debug === true) {
                this._log('emitEvent', 'An event with a '+(detected===true?'positive':'negative')+' detection was called');
            }
            
            var fns = this._var.event[(detected===true?'detected':'notDetected')];
            for(var i in fns) {
                if(this._options.debug === true) {
                    this._log('emitEvent', 'Call function '+(parseInt(i)+1)+'/'+fns.length);
                }
                if(fns.hasOwnProperty(i)) {
                    fns[i]();
                }
            }
            if(this._options.resetOnEnd === true) {
                this.clearEvent();
            }
            return this;
        };
        KillAdBlock.prototype.clearEvent = function() {
            this._var.event.detected = [];
            this._var.event.notDetected = [];
            
            if(this._options.debug === true) {
                this._log('clearEvent', 'The event list has been cleared');
            }
        };
        
        KillAdBlock.prototype.on = function(detected, fn) {
            this._var.event[(detected===true?'detected':'notDetected')].push(fn);
            if(this._options.debug === true) {
                this._log('on', 'A type of event "'+(detected===true?'detected':'notDetected')+'" was added');
            }
            
            return this;
        };
        KillAdBlock.prototype.onDetected = function(fn) {
            return this.on(true, fn);
        };
        KillAdBlock.prototype.onNotDetected = function(fn) {
            return this.on(false, fn);
        };
        
        window.KillAdBlock = KillAdBlock;
        
        if(window.killAdBlock === undefined) {
            window.killAdBlock = new KillAdBlock({
                checkOnLoad: true,
                resetOnEnd: true
            });
        }
    })(window);
    function show_message()
    {
        kill_adBlock_message_delay = kill_adBlock_message_delay * 1000;
        kill_adBlock_close_automatically_delay = kill_adBlock_close_automatically_delay * 1000;
        setTimeout(function(){
            jQuery('.nk73106').html(kill_adBlock_message);
            jQuery('.nk73106-container').fadeIn();
         }, kill_adBlock_message_delay);
        if(kill_adBlock_close_automatically_delay>0 && kill_adBlock_close_automatically==1)
        {
            setTimeout(function(){
                jQuery('.close-btn').trigger('click');
             }, kill_adBlock_close_automatically_delay);
        }
    }
    function adBlockNotDetected(){}
    jQuery(document).ready(function(){
        jQuery('.close-btn').click(function(){
            jQuery('.nk73106-container').fadeOut('nk73106-hide');
        });
    });
</script>
    <link rel="stylesheet" href="6zn-2ir4.css" type="text/css" media="all" />
<meta name="keywords" content="DNS, DNSmasq, 网络资源">
<meta name="description" content="本文章由 @南琴浪 投稿，由 @Toyo 排版并完善，原文地址：https://www.nanqinlang.com/dnsmasq.html DNSmasq是一款小巧且方便地用于配置DNS服务和DHCP服务器的工具，适用于小型网络，它提供了DNS解析功能和可选择的DHCP功能，并且提供本地缓存查询请求的功能。同时搭配 SNI Proxy代理的话，可以实现只使用DNS就能科学上网！ 目前 自建DNS 效果不如以前，防火墙针对性更强，如非">
<!--[if lt IE 9]><script src="https://doub.io/wp-content/themes/yusi1.0/js/html5.js"></script><![endif]-->
<style type="text/css">.dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1!important}.dg.main .close-button.drag,.dg.main:hover .close-button{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;transition:opacity .1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save>ul{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height .1s ease-out;transition:height .1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid transparent}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.boolean,.dg .cr.boolean *,.dg .cr.function,.dg .cr.function *,.dg .cr.function .property-name{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco,monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px Lucida Grande,sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid hsla(0,0%,100%,.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.boolean:hover,.dg .cr.function:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}</style>
<script type="text/javascript">try {
var AG_onLoad=function(func){if(document.readyState==="complete"||document.readyState==="interactive")func();else if(document.addEventListener)document.addEventListener("DOMContentLoaded",func);else if(document.attachEvent)document.attachEvent("DOMContentLoaded",func)};
var AG_removeElementById = function(id) { var element = document.getElementById(id); if (element && element.parentNode) { element.parentNode.removeChild(element); }};
var AG_removeElementBySelector = function(selector) { if (!document.querySelectorAll) { return; } var nodes = document.querySelectorAll(selector); if (nodes) { for (var i = 0; i < nodes.length; i++) { if (nodes[i] && nodes[i].parentNode) { nodes[i].parentNode.removeChild(nodes[i]); } } } };
var AG_each = function(selector, fn) { if (!document.querySelectorAll) return; var elements = document.querySelectorAll(selector); for (var i = 0; i < elements.length; i++) { fn(elements[i]); }; };
var AG_removeParent = function(el, fn) { while (el && el.parentNode) { if (fn(el)) { el.parentNode.removeChild(el); return; } el = el.parentNode; } };
var AdFox_getCodeScript = function() {};
AG_onLoad(function() { AG_each('iframe[id^="AdFox_iframe_"]', function(el) { if (el && el.parentNode) { el.parentNode.removeChild(el); } }); });
try { Object.defineProperty(window, 'noAdsAtAll', { get: function() { return true; } }); } catch (ex) {}
navigator.getBattery = undefined;
(function() { window.Ya = window.Ya || {}; window.Ya.Metrika = function() { var noop = function() {}; this.addFileExtension = noop; this.extLink = noop; this.file = noop; this.hit = noop; this.notBounce = noop; this.params = noop; this.reachGoal = noop; this.replacePhones = noop; this.clickmap = noop; this.trackLinks = noop; }; })();
var _gaq = []; var _gat = { _getTracker: function() { return { _initData: function(){}, _trackPageview: function(){}, _trackEvent: function(){}, _setAllowLinker: function() {}, _setCustomVar: function() {} } }, _createTracker: function() { return this._getTracker(); }, _anonymizeIp: function() {} };
function urchinTracker() {};
window.uabInject = function() {};
} catch (ex) { console.error('Error executing AG js: ' + ex); }</script>
</head>
<body class="post-template-default single single-post postid-2050 single-format-standard">

<header id="header" class="header">
<div class="container-inner" style="display: block;">
 <div class="yusi-logo" style="display: block;">
                    <a href="index.html">
                        <h1>
                                                        <span style="font-family:'jin_mei_mxplzx86d456993036';color: #fff;font-weight: normal;font-size: 54px;animation: shake-slow 300s ease-in-out infinite;" class="preview-item small shake-slow shake-constant shake-constant--hover">逗比根据地</span>
                                                        <span style="font-family:'LiDeBiao-Xing320e75d0253036';color: #fff;font-size: 24px;animation: shake-slow 300s ease-in-out infinite;" class="preview-item small shake-slow shake-constant shake-constant--hover">– 世界那么逗，我想出去看看</span>
                                                    </h1>
                    </a>
    </div>
</div>

	<div id="nav-header" class="navbar" style="display: block;">
		
		<ul class="nav">
			<li><a href="index.html"><i class="fa fa-fire"></i> 首页</a></li>
<li><a target="_blank" href="2mnz2ayl.html"><i class="fa fa-star"></i> 逗比推荐</a>
<ul  class="sub-menu">
	<li><a target="_blank" href="oy_8f2i-.html">碉堡网站</a></li>
	<li><a target="_blank" href="w9qs7z5o.html">逗比软件</a></li>
	<li><a target="_blank" href="a_7fusf-.html">虚拟主机</a></li>
	<li><a target="_blank" href="hi10k-7p.html">VPS资源</a></li>
</ul>
</li>
<li class="current-post-ancestor"><a target="_blank" href="khwjusu7.html"><i class="fa fa-globe fa-spin"></i> 科学上网</a>
<ul  class="sub-menu">
	<li><a target="_blank" href="xk611kx-.html">安卓合集</a></li>
	<li><a target="_blank" href="pnqap_t4.html">电脑合集</a></li>
	<li class="current-post-ancestor current-menu-parent"><a target="_blank" href="c8ljt6o8.html">网络资源</a></li>
	<li><a target="_blank" href="f3dg9hl6.html">建站资源</a></li>
	<li><a target="_blank" href="3we1qxzj.html">VPN资源</a></li>
	<li><a target="_blank" href="1jg9z3mv.html">Shell脚本</a></li>
	<li><a target="_blank" href="3tpr86rp.html">Linux教程</a></li>
</ul>
</li>
<li><a target="_blank" href="6r9z6_wi.html"><i class="fa fa-paper-plane" style="font-size: 19px;"></i> Shadowsocks</a>
<ul  class="sub-menu">
	<li><a target="_blank" href="dibdjmr6.html"><span style="color: #ffe200;">网站文章 合辑</span></a></li>
	<li><a target="_blank" href="6r9z6_wi.html">所有教程 合辑</a></li>
	<li><a target="_blank" href="6r9z6_wi-2.html">小白常见 问题</a></li>
	<li><a target="_blank" href="hi10k-7p-2.html">故障排除 方法</a></li>
	<li><a target="_blank" href="z2a4lk3l.html">一键管理 脚本</a></li>
	<li><a target="_blank" href="z2a4lk3l-2.html">一键管理 脚本2</a></li>
	<li><a target="_blank" href="kd691l4o.html">一键管理 脚本3</a></li>
</ul>
</li>
<li><a target="_blank" href="95f80__8.html"><i class="fa fa-share-alt"></i> 免费账号分享</a></li>
<li><a target="_blank" href="jgjhicaj.html"><i class="fa fa-tasks"></i> 便宜VPS推荐</a></li>
<li><a target="_blank" href="/cloud"><i class="fa fa-cloud"></i> 逗比云</a></li>
<li><a target="_blank" href="4jo7-e0n.html"><i class="fa fa-list-alt"></i> 留言</a></li>
<li style="float:right;">
                    <div class="toggle-search" style="width: 60px;"><i class="fa fa-search"></i><a href="#" style="padding: 0;">搜索</a></div>
<div class="search-expand" style="display: none;"><div class="search-expand-inner"><form method="get" class="searchform themeform" onsubmit="location.href='https://www.google.com/search?q=' + encodeURIComponent(this.s.value).replace(/%20/g, '+') + '%20site%3Adoubmirror.cf'; return false;" action="https://doubmirror.cf/"><div> <input type="ext" class="search" name="s" onblur="if(this.value=='')this.value='请善用搜索功能...';" onfocus="if(this.value=='请善用搜索功能...')this.value='';" value="请善用搜索功能..."></div></form></div></div>
</li>
		</ul>
	</div>
</header>
<section class="container"><div class="speedbar">
				<div class="toptip"><strong class="text-success"><i class="fa fa-volume-up"></i> </strong> 这是一个非官方的逗比网站镜像站点&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong><a target="_blank" href="/cloud">          [逗比云镜像站]</a></strong> 
<div style="float: right;margin: 0 10px;"><a target="_blank" href="_q1y782c.html"><i class="fa fa-envelope" style="color: #1abc9c;opacity: 1;"></i>投稿文章</a> | <a target="_blank" href="939koj07.html"><i class="fa fa-money" style="color: #1abc9c;opacity: 1;"></i>广告合作</a> | <a target="_blank" href="https://doub.io/go/tg"><i class="fa fa-paper-plane" style="color: #1abc9c;opacity: 1;"></i>Telegram 群组</a> / <a target="_blank" href="https://doub.io/go/tg_a">公告频道</a> / <a target="_blank" href="ma7f_p6p.html">使用教程</a></div></div>
	</div>
	<div class="guangg guangg-site"><div style="position: absolute;left: 4px;top: 14px;font-size: 12px;color: #fff;border: 1px solid #ffffff;line-height: 12px;opacity: 0.9;">广告</div>
<a title="特别声明：此图片为广告投放，与本站无任何关系。" target="_blank" href="https://doub.io/go/gigsgigscloud/"><img src="5ny9g1s2.gif" class="top_guangg" /></a></div><div class="content-wrap">
<div style="display: block;">
	<div class="content" style="display: block;">

				<header class="article-header">
			<h1 class="article-title"><a href="wkcjzpyd-5.html">Linux 自建DNS 并使用SNI Proxy实现科学上网 —— DNSmasq配置教程</a></h1>
			<div class="meta">
				<span id="mute-category" class="muted"><i class="fa fa-list-alt"></i><a href="c8ljt6o8.html"> 网络资源</a></span>				<span class="muted"><i class="fa fa-user"></i> <a href="1oa77nvd.html">南琴浪</a></span>
				<time class="muted"><i class="fa fa-clock-o"></i> 2年前 (2017-03-30)</time>
				<!-- span class="muted"><i class="fa fa-eye"></i> 6288℃</span -->
				<span class="muted"><i class="fa fa-comments-o"></i> <a href="wkcjzpyd-5.html#comments">30评论</a></span>							</div>
		</header>
<div class="guangg guangg-post"><div style="position: absolute;left: 3px;top: 14px;font-size: 12px;color: #fff;border: 1px solid #ffffff;line-height: 12px;opacity: 0.9;">广告</div>
<a title="特别声明：此图片为广告投放，与本站无任何关系。" target="_blank" href="https://doub.io/go/yitianjian_shadow/"><img src="wklm68vn.png" class="top_guangg" /></a></div>		<article class="article-content">
			<div id="content-index" class="content-index"><div class="content-index-title"><a id="content-index-togglelink" href="javascript:content_index_toggleToc()">文章目录 ⚐</a></div>
<script type="text/javascript" language="javascript">
window.content_index_showTocToggle=false;function content_index_toggleToc(){var tts="文章目录 ⚐";var tth="文章目录 ⚑";if(window.content_index_showTocToggle){window.content_index_showTocToggle=false;document.getElementById("content-index-contents").style.display="none";document.getElementById("content-index-togglelink").innerHTML=tts}else{window.content_index_showTocToggle=true;document.getElementById("content-index-contents").style.display="block";document.getElementById("content-index-togglelink").innerHTML=tth}}
</script>
<ul id="content-index-contents" style="display: none;"><li class="content-index-level-1"><a href="wkcjzpyd-5.html#安装步骤" title="安装步骤"><span>安装步骤</span></a><ul class="children"><li class="content-index-level-2"><a href="wkcjzpyd-5.html#包管理器 安装" title="包管理器 安装"><span>包管理器 安装</span></a></li><li class="content-index-level-2"><a href="wkcjzpyd-5.html#源码编译 安装" title="源码编译 安装"><span>源码编译 安装</span></a></li></ul></li><li class="content-index-level-1"><a href="wkcjzpyd-5.html#配置文件" title="配置文件"><span>配置文件</span></a><ul class="children"><li class="content-index-level-2"><a href="wkcjzpyd-5.html#配置文件参数说明：" title="配置文件参数说明："><span>配置文件参数说明：</span></a></li><li class="content-index-level-2"><a href="wkcjzpyd-5.html#自定义地址解析 单独建立一个配置文件：" title="自定义地址解析 单独建立一个配置文件："><span>自定义地址解析 单独建立一个配置文件：</span></a></li><li class="content-index-level-2"><a href="wkcjzpyd-5.html#GFWList转为DNSmasq的SNI配置文件" title="GFWList转为DNSmasq的SNI配置文件"><span>GFWList转为DNSmasq的SNI配置文件</span></a></li></ul></li><li class="content-index-level-1"><a href="wkcjzpyd-5.html#使用说明" title="使用说明"><span>使用说明</span></a></li><li class="content-index-level-1"><a href="wkcjzpyd-5.html#卸载 DNSmasq" title="卸载 DNSmasq"><span>卸载 DNSmasq</span></a></li><li class="content-index-level-1"><a href="wkcjzpyd-5.html#其他说明" title="其他说明"><span>其他说明</span></a></li></ul></div>
<div class="old-message">本文最后更新于 <a><strong>2018年1月20日 22:31</strong></a> 可能会因为没有更新而失效。如已失效或需要修正，请留言！</div><blockquote><p>本文章由 <a href="1oa77nvd.html" target="_blank" rel="noopener">@南琴浪</a> 投稿，由 <a href="3x8ussyf.html" target="_blank" rel="noopener">@Toyo</a> 排版并完善，原文地址：<a href="https://www.nanqinlang.com/dnsmasq.html" target="_blank" rel="noopener">https://www.nanqinlang.com/dnsmasq.html</a></p></blockquote>
<p>DNSmasq是一款小巧且方便地用于配置DNS服务和DHCP服务器的工具，适用于小型网络，它提供了DNS解析功能和可选择的DHCP功能，并且提供本地缓存查询请求的功能。同时搭配 SNI Proxy代理的话，可以实现只使用DNS就能科学上网！</p>
<blockquote><p>目前 <strong>自建DNS</strong> 效果不如以前，防火墙针对性更强，<strong>如非必须，不推荐使用！</strong></p></blockquote>
<h2 id="安装步骤">安装步骤</h2>
<h3 id="包管理器 安装">包管理器 安装</h3>
<pre class="prettyprint linenums"># CentOS 系统：
yum update
yum install -y dnsmasq

# Debian/Ubuntu 系统：
apt-get update
apt-get install -y dnsmasq
</pre>
<p><!-- &gt;--></p>
<h3 id="源码编译 安装">源码编译 安装</h3>
<p>DNSmasq 官方网站：<a href="http://www.thekelleys.org.uk/dnsmasq/" target="_blank" rel="noopener">http://www.thekelleys.org.uk/dnsmasq/</a></p>
<p>编译需要相关组件支持，所以安装编译依赖包：</p>
<pre class="prettyprint linenums"># CentOS 系统：
yum update
yum -y groupinstall "Development Tools"

# Debian/Ubuntu 系统：
apt-get update
apt-get install -y build-essential
</pre>
<p><strong>获取最新版本：</strong></p>
<pre class="prettyprint linenums">dnsmasq_ver=$(wget -qO- http://www.thekelleys.org.uk/dnsmasq/ | awk -F'\"dnsmasq-' '/dnsmasq-[2-9].[0-9][0-9].tar.gz\"&gt;dnsmasq/{print $2}' | cut -c 1-4 | sort -V | tail -1)
</pre>
<p><strong>下载解压编译：</strong></p>
<pre class="prettyprint linenums">wget http://www.thekelleys.org.uk/dnsmasq/dnsmasq-${dnsmasq_ver}.tar.gz
tar -xzf dnsmasq-${dnsmasq_ver}.tar.gz
cd dnsmasq-${dnsmasq_ver}
make install
ldconfig
# 编译安装完毕后，可以删除没用的源码文件了。
cd ..
rm -rf dnsmasq-${dnsmasq_ver} &amp;&amp; rm -rf dnsmasq-${dnsmasq_ver}.tar.gz
</pre>
<hr />
<p>包管理器 安装后，查看下DNSmasq的版本：</p>
<pre class="prettyprint linenums">dnsmasq -v
# 以下是输出结果，只要不是提示 找不到命令就没事( -bash: dnsmasq: command not found )
Dnsmasq version x.xx Copyright (c) 2000-2012 Simon Kelley
Compile time options: IPv6 GNU-getopt DBus i18n IDN DHCP DHCPv6 no-Lua TFTP conntrack

This software comes with ABSOLUTELY NO WARRANTY.
Dnsmasq is free software, and you are welcome to redistribute it
under the terms of the GNU General Public License, version 2 or 3.
</pre>
<h2 id="配置文件">配置文件</h2>
<p>Dnsmasq的配置文件为：<code>dnsmasq.conf</code></p>
<p>包管理器 方式安装的配置文件位置为：<code>/etc/dnsmasq.conf</code></p>
<p>本教程只介绍配置DNS服务，以下部分只指出DNS服务的相关配置。</p>
<p>首先复制一份配置文件的备份，然后清空原配置文件，并根据下面的参数说明写入配置内容：</p>
<pre class="prettyprint linenums">cp /etc/dnsmasq.conf /etc/dnsmasq.conf.bak
echo "" &gt; /etc/dnsmasq.conf
# 打开配置文件并根据下面的参数说明写入配置内容，按 <strong>I键</strong> 进入编辑模式，改完后按 <strong>ESC键</strong> 退出并输入 <strong>:wq</strong> 保存并退出。
vi /etc/dnsmasq.conf</pre>
<h3 id="配置文件参数说明：">配置文件参数说明：</h3>
<pre class="prettyprint linenums">port=53
 # 指定DNSmasq的监听端口，默认为53端口，也可设置为5353端口从而防止53端口DNS污染（但某些设备如win并不支持非53端口）

resolv-file=/xxx/xx.conf
 # 指定DNSmasq获取上游DNS服务器地址的文件，不配置此项则默认从 /etc/resolv.conf(linux默认DNS配置文件) 获取

strict-order
 # 严格按照 resolv-file 参数指定的文件中按从上到下的顺序发送DNS解析请求，直至获取解析应答成功为止

listen-address=
 # 指定DNSmasq监听的地址，若仅提供为本机使用可设置为 127.0.0.1 ，留空或设置为 0.0.0.0 即任何人都可访问

address=/xxx.xx/x.x.x.x
 # 自定义某些地址的解析服务器，可以 过滤或者指定 某些网站（支持ipv6，直接写ipv6的地址即可）
 # 过滤广告或者某域名，例如配置 address=/www.nanqinlang.com/127.0.0.1
 # 把广告域名解析请求发送到错误的解析服务器IP 127.0.0.1 即可屏蔽该域名的访问
<strong> # 也可以把 www.google.com 等指向一个国外的SNI代理IP，即可实现DNS科学上网</strong>

server=208.67.222.222#5353
 # 指定上游DNS解析服务器,此处推荐设置为可使用5353端口的opendns

bogus-nxdomain=208.67.222.222
 # 用于防止DNS污染/劫持，参数和上面 server 项填写相同的 ip ，但不支持非53端口。

conf-dir=/etc/dnsmasq.d
 # 加载 /etc/dnsmasq.d 文件夹内的配置文件</pre>
<p><strong>配置文件示例：</strong></p>
<p class="toggle" style="margin: 0;"><a href="#">点击展开 查看示例</a></p><div class="toggle-box" style="display: none;"><p></p>
<pre class="prettyprint linenums">port=53
strict-order
listen-address=127.0.0.1
server=208.67.222.222#53
bogus-nxdomain=208.67.222.222
conf-dir=/etc/dnsmasq.d</pre>
<p></p></div>
<h3 id="自定义地址解析 单独建立一个配置文件：">自定义地址解析 单独建立一个配置文件：</h3>
<pre class="prettyprint linenums">vi /etc/dnsmasq.d/sniporxy.conf
</pre>
<p>然后按格式写入自定义地址解析，<strong>示例如下：</strong></p>
<blockquote><p>这里可以配合我的另一个教程：<a title="一个 反代无需证书 适用于DNS/Hosts的小工具 —— SNI Proxy代理 安装教程 - 逗比根据地" href="9n7kdq_k-4.html" target="_blank" rel="noopener">一个 反代无需证书 适用于DNS/Hosts的小工具 —— SNI Proxy代理 安装教程</a></p>
<p>把谷歌等域名的解析IP指定为 SNI Proxy代理的IP，当你使用这个DNS时，就会通过解析为SNI代理 IP，然后通过SNI代理访问谷歌，这就是使用自建DNS实现科学上网（和Hosts方式原理是一样的，不过一个在云服务器上，一个在本地）。</p>
<p>注意：这里都是默认泛域名，比如<code> /google.com/1.1.1.1 </code>代表<code> google.com, www.google.com, api.google.com </code>等域名全部解析为<code> 1.1.1.1 </code>。</p></blockquote>
<pre class="prettyprint linenums">address=/google.com/1.1.1.1
address=/google.com.hk/1.1.1.1
address=/google.co.jp/1.1.1.1
address=/gmail.com/1.1.1.1
address=/youtube.com/1.1.1.1
</pre>
<pre>注意：如果 这个文件或配置文件 修改了，那么需要重启 DNSmasq后才能生效。</pre>
<h3 id="GFWList转为DNSmasq的SNI配置文件">GFWList转为DNSmasq的SNI配置文件</h3>
<p>大家可能觉得如果用上面的自己创建的 SNI配置文件的话，要写全被墙的网站域名会很麻烦，于是我就找到了这个 python的脚本（由 <a href="https://blog.ahokitsune.org/" target="_blank" rel="noopener">@犬走つばき</a> 提供脚本项目地址），可以把 gfwlist的PAC转成 DNSmasq的SNI配置文件。</p>
<p><strong>Python脚本项目：<a href="https://github.com/R0uter/Dnsmasq-sniproxy-conf" target="_blank" rel="noopener">https://github.com/R0uter/Dnsmasq-sniproxy-conf</a></strong></p>
<p>首先下载这个 python脚本：</p>
<pre class="prettyprint linenums">wget -N --no-check-certificate https://raw.githubusercontent.com/R0uter/Dnsmasq-sniproxy-conf/master/gfwlist2dnsmasq-sni-conf.py
</pre>
<p>然后替换脚本内默认的SNI代理IP(127.0.0.1)为自己的IP，加入你的SNI代理IP为<code>1.1.1.1</code>，那么这样（你可以用 vi 等编辑器修改第12行的IP）：</p>
<pre class="prettyprint linenums">sed -i 's/127.0.0.1/1.1.1.1/' gfwlist2dnsmasq-sni-conf.py
</pre>
<p>修改后，可以使用<code> cat gfwlist2dnsmasq-sni-conf.py </code>查看一下第12行的IP是否为自己的SNI代理IP，如果正确，那么继续。</p>
<p>先确定你的 Linux系统中安装了 Python ：</p>
<pre class="prettyprint linenums">python -V

# 如果返回的是 python的版本信息那就继续下面步骤，如果返回的是 命令找不到(-bash: python: command not found)，那么请安装 python：
# CentOS 系统：
yum install python -y
# Debian/Ubuntu 系统：
apt-get install python -y
</pre>
<p>然后我们运行脚本：</p>
<pre class="prettyprint linenums">python gfwlist2dnsmasq-sni-conf.py
</pre>
<p>运行脚本后会输出转换的信息，输出完后，就会在当前文件夹下生成一个<code> sni.conf </code>文件，把他移动到<code> /etc/dnsmasq.d/ </code>文件夹内即可。</p>
<pre class="prettyprint linenums">mv sni.conf /etc/dnsmasq.d/sni.conf
</pre>
<p>然后重启 DNSmasq就会生效。</p>
<pre class="prettyprint linenums">/etc/init.d/dnsmasq restart
</pre>
<blockquote><p>需要注意的是，因为 GFWList是一直更新的，所以你的SNI配置文件也要定时更新，步骤一样，运行脚本就会自动获取最新的GFWList文件并转换成DNSmasq的SNI配置文件。</p></blockquote>
<h2 id="使用说明">使用说明</h2>
<p>启用DNSmasq服务</p>
<pre class="prettyprint linenums">/etc/init.d/dnsmasq start
</pre>
<p>停止DNSmasq服务</p>
<pre class="prettyprint linenums">/etc/init.d/dnsmasq stop
</pre>
<p>重启DNSmasq服务（当修改配置文件后，需要重启）</p>
<pre class="prettyprint linenums">/etc/init.d/dnsmasq restart
</pre>
<h2 id="卸载 DNSmasq">卸载 DNSmasq</h2>
<p>如果 /etc/dnsmasq.d 目录有文件，那么需要先删除这个目录才能正常卸载：</p>
<pre class="prettyprint linenums"># 先删除这个目录
rm -rf /etc/dnsmasq.d 

# CentOS 系统 
yum remove dnsmasq -y 

# Debian/Ubuntu 系统： 
apt-get remove --purge dnsmasq -y</pre>
<h2 id="其他说明">其他说明</h2>
<p>这个可能是防火墙的问题，因为DNS是UDP传输的，所以只开放UDP端口即可。</p>
<pre class="prettyprint linenums">iptables -I INPUT -m state --state NEW -m udp -p udp --dport 端口 -j ACCEPT

# 删除防火墙规则，内容一样把 -I 换成 -D 就行了：
iptables -D INPUT -m state --state NEW -m udp -p udp --dport 端口 -j ACCEPT</pre>
<hr />
<p>在PC/路由器/移动设备中设置DNS为你的VPS IP，端口设置53(如有) 即可。</p>
<p><pre style="border-left: solid 4px #1abc9c;"><strong>转载请超链接注明：</strong><a href="index.html">逗比根据地</a> &raquo; <a href="wkcjzpyd-5.html">Linux 自建DNS 并使用SNI Proxy实现科学上网 —— DNSmasq配置教程</a></pre><pre><strong>责任声明：</strong>本站一切资源仅用作交流学习，请勿用作商业或违法行为！如造成任何后果，本站概不负责！</pre></p>

      
<div class="article-social">
			<a href="javascript:;" data-action="ding" data-id="2050" id="Addlike" class="action"><i class="fa fa-thumbs-o-up"></i>赞 (<span class="count">27</span>)</a></div>
	</article>	
				<footer class="article-footer">
			<div class="article-tags"><i class="fa fa-tags"></i><a href="3pzf4018.html" rel="tag">DNS</a><a href="dnr3fy8m.html" rel="tag">DNSmasq</a></div></footer>
	<nav class="article-nav">
			<span class="article-nav-prev"><i class="fa fa-angle-double-left"></i> <a href="wga96uww.html" rel="prev">Linux 搭建 Resilio Sync Web UI 同步客户端教程</a></span>
			<span class="article-nav-next"><a href="dvvp201-.html" rel="next">『持续更新』Linux 常用命令简单介绍 —— 基础篇</a>  <i class="fa fa-angle-double-right"></i></span>
		</nav>

		<div class="related_top">
			<div class="related_posts"><ul class="related_img">

		<li class="related_box"  >
		<a href="3--didfb-4.html" title="Debian 编译安装 SNI Proxy 反向代理教程（可用于Hosts/DNS服务器）" target="_blank">
<img src="r6z3aser.png?src=https://doub.io/wp-content/uploads/qita-04-03.png&amp;h=110&amp;w=185&amp;q=90&amp;zc=1&amp;ct=1" alt="Debian 编译安装 SNI Proxy 反向代理教程（可用于Hosts/DNS服务器）" />	<br><span class="r_title">Debian 编译安装 SNI Proxy 反向代理教程（可用于Hosts/DNS服务器）</span></a>
		</li>
	
		<li class="related_box"  >
		<a href="0j0k_rj3.html" title="『原创』快速自建DNS服务器以 科学上网+屏蔽广告 —— dowsDNS 一键脚本" target="_blank">
<img src="t2hu7a0y.png?src=https://doub.io/wp-content/uploads/dns.png&amp;h=110&amp;w=185&amp;q=90&amp;zc=1&amp;ct=1" alt="『原创』快速自建DNS服务器以 科学上网+屏蔽广告 —— dowsDNS 一键脚本" />	<br><span class="r_title">『原创』快速自建DNS服务器以 科学上网+屏蔽广告 —— dowsDNS 一键脚本</span></a>
		</li>
	
		<li class="related_box"  >
		<a href="xowbtqn5.html" title="Linux 使用 dowsDNS 快速自建DNS服务器以 科学上网+屏蔽广告" target="_blank">
<img src="t2hu7a0y.png?src=https://doub.io/wp-content/uploads/dns.png&amp;h=110&amp;w=185&amp;q=90&amp;zc=1&amp;ct=1" alt="Linux 使用 dowsDNS 快速自建DNS服务器以 科学上网+屏蔽广告" />	<br><span class="r_title">Linux 使用 dowsDNS 快速自建DNS服务器以 科学上网+屏蔽广告</span></a>
		</li>
	
		<li class="related_box"  >
		<a href="6r9z6_wi-4.html" title="ShadowsocksR服务端 如何自定义/修改 DNS服务器" target="_blank">
<img src="wep4pbca.png?src=https://doub.io/wp-content/uploads/dns-1.png&amp;h=110&amp;w=185&amp;q=90&amp;zc=1&amp;ct=1" alt="ShadowsocksR服务端 如何自定义/修改 DNS服务器" />	<br><span class="r_title">ShadowsocksR服务端 如何自定义/修改 DNS服务器</span></a>
		</li>
	</ul>

<div class="relates">
<ul>
<li><i class="fa fa-minus"></i><a href="3--didfb-4.html">Debian 编译安装 SNI Proxy 反向代理教程（可用于Hosts/DNS服务器）</a></li><li><i class="fa fa-minus"></i><a href="0j0k_rj3.html">『原创』快速自建DNS服务器以 科学上网+屏蔽广告 —— dowsDNS 一键脚本</a></li><li><i class="fa fa-minus"></i><a href="xowbtqn5.html">Linux 使用 dowsDNS 快速自建DNS服务器以 科学上网+屏蔽广告</a></li><li><i class="fa fa-minus"></i><a href="6r9z6_wi-4.html">ShadowsocksR服务端 如何自定义/修改 DNS服务器</a></li><li><i class="fa fa-minus"></i><a href="9n7kdq_k-4.html">一个 反代无需证书 适用于DNS/Hosts的小工具 —— SNI Proxy代理 安装教程</a></li><li><i class="fa fa-minus"></i><a href="6t3mypbm.html">一个搭建 本地DNS 以科学上网的小工具 —— dowsDNS</a></li><li><i class="fa fa-minus"></i><a target="_blank" href="k71l4klb.html">网页管理 <strong>Brook、SS、Socks5</strong> 代理账号 —— Brook-Web 使用教程</a></li><li><i class="fa fa-minus"></i><a target="_blank" href="uispwf33.html">DAZE 轻量化代理软件 —— Windows 客户端简单使用教程</a></li>
</ul></div></div>		</div>
						<div id="respond" class="no_webshot">
		<form action="https://doub.io/pl-doubi.php" method="post" id="commentform">
		
		<div class="comt-title">
			<div class="comt-author pull-left">
			发表我的评论			</div>
			<a id="cancel-comment-reply-link" class="pull-right" href="javascript:;">取消评论</a>
		</div>
		
		<div class="comt">
			<div class="comt-box">
				<textarea placeholder="本站所有评论均会审核，因缓存原因，审核中的评论刷新页面后就会不显示，请知晓勿重发。" class="input-block-level comt-area" name="comment" id="comment" cols="100%" rows="3" tabindex="1" onkeydown="if(event.ctrlKey&amp;&amp;event.keyCode==13){document.getElementById('submit').click();return false};"></textarea>
				<div class="comt-ctrl">
					<button class="btn btn-primary pull-right" type="submit" name="submit" id="submit" tabindex="5"><i class="fa fa-check-square-o"></i> 提交评论</button>
					<div class="comt-tips pull-right"><input type='hidden' name='comment_post_ID' value='2050' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</div>
					<span data-type="comment-insert-smilie" class="muted comt-smilie"><i class="fa fa-smile-o"></i> 表情</span>
					<span class="muted comt-mailme"><label for="comment_mail_notify" class="checkbox inline" style="padding-top:0"><input type="checkbox" name="comment_mail_notify" id="comment_mail_notify" value="comment_mail_notify" checked="checked"/>有人回复时邮件通知我</label></span>
				</div>
			</div>

												<div class="comt-comterinfo" id="comment-author-info" >
						<h4>Hi，您需要填写昵称和邮箱！</h4>
						<ul>
							<li class="form-inline"><label class="hide" for="author">昵称</label><input class="ipt" type="text" name="author" id="author" value="" tabindex="2" placeholder="昵称"><span class="help-inline">昵称 (必填)</span></li>
							<li class="form-inline"><label class="hide" for="email">邮箱</label><input class="ipt" type="text" name="email" id="email" value="" tabindex="3" placeholder="邮箱"><span class="help-inline">邮箱 (必填)</span></li>
							<li class="form-inline"><label class="hide" for="url">网址</label><input class="ipt" type="text" name="url" id="url" value="" tabindex="4" placeholder="网址"><span class="help-inline">网址</span></li>
						</ul>
					</div>
									</div>

		
	</form>
	</div>
<div style="display: block;">
<div id="postcomments">
	<div id="comments">
		<i class="fa fa-comments-o"></i> <b> (30)</b>个小伙伴在吐槽
	</div>
	<ol class="commentlist">
		<li class="comment even thread-even depth-1" id="comment-40039"><div class="c-avatar"><div class="c-main" id="div-comment-40039">我担心的是自建的DNS会被放大攻击利用。我这建dnsmasq的目的是给同服务器上的VPN用，是不是只要设置监听端口为127.0.0.1就可以避免了？还请指教，谢谢！<div class="c-meta"><span class="c-author">SUMMER</span>2018-07-09 13:34 <a rel='nofollow' class='comment-reply-link' href='https://doub.io/wlzy-32/?replytocom=40039#respond' onclick='return addComment.moveForm( "div-comment-40039", "40039", "respond", "2050" )' aria-label='回复给SUMMER'>回复</a></div></div></div><ul class="children">
<li class="comment byuser comment-author-toyo odd alt depth-2" id="comment-40041"><div class="c-avatar"><div class="c-main" id="div-comment-40041">是的。<div class="c-meta"><span class="c-author"><a href='index.html' rel='external nofollow' class='url'>Toyo</a></span>2018-07-09 15:07 <a rel='nofollow' class='comment-reply-link' href='https://doub.io/wlzy-32/?replytocom=40041#respond' onclick='return addComment.moveForm( "div-comment-40041", "40041", "respond", "2050" )' aria-label='回复给Toyo'>回复</a></div></div></div></li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="comment-31548"><div class="c-avatar"><div class="c-main" id="div-comment-31548">现在可用吗<div class="c-meta"><span class="c-author">ALEX</span>2018-02-16 22:05 <a rel='nofollow' class='comment-reply-link' href='https://doub.io/wlzy-32/?replytocom=31548#respond' onclick='return addComment.moveForm( "div-comment-31548", "31548", "respond", "2050" )' aria-label='回复给ALEX'>回复</a></div></div></div></li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="comment-15203"><div class="c-avatar"><div class="c-main" id="div-comment-15203">别说翻墙了，就连正常的网页都没办法解析。能不能写一篇格式化的教程，只要照着做就能OK的？<div class="c-meta"><span class="c-author">交易者</span>2017-07-01 11:48 <a rel='nofollow' class='comment-reply-link' href='https://doub.io/wlzy-32/?replytocom=15203#respond' onclick='return addComment.moveForm( "div-comment-15203", "15203", "respond", "2050" )' aria-label='回复给交易者'>回复</a></div></div></div><ul class="children">
<li class="comment even depth-2" id="comment-16399"><div class="c-avatar"><div class="c-main" id="div-comment-16399">那行吧 我之后把我的配置文件贴出来<div class="c-meta"><span class="c-author"><a href='https://www.nanqinlang.com/' rel='external nofollow' class='url'>南琴浪</a></span>2017-08-03 14:41 <a rel='nofollow' class='comment-reply-link' href='https://doub.io/wlzy-32/?replytocom=16399#respond' onclick='return addComment.moveForm( "div-comment-16399", "16399", "respond", "2050" )' aria-label='回复给南琴浪'>回复</a></div></div></div></li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-13611"><div class="c-avatar"><div class="c-main" id="div-comment-13611">搭完内网nslookup有反应 用外网就不行了可能是什么原因找了一下午原因还是找不到是哪里问题,端口扫描也显示我这个外网ip确实开放了53端口了,我已经设置了安全组全部端口转发了<div class="c-meta"><span class="c-author">heike</span>2017-05-09 18:56 <a rel='nofollow' class='comment-reply-link' href='https://doub.io/wlzy-32/?replytocom=13611#respond' onclick='return addComment.moveForm( "div-comment-13611", "13611", "respond", "2050" )' aria-label='回复给heike'>回复</a></div></div></div><ul class="children">
<li class="comment even depth-2" id="comment-13612"><div class="c-avatar"><div class="c-main" id="div-comment-13612">显示DNS request timed out,应该是没有连上dns,
而且netstat -uanp查询显示
udp6       0      0 :::53                   :::*                                24094/dnsmasq<div class="c-meta"><span class="c-author">heike</span>2017-05-09 19:22 <a rel='nofollow' class='comment-reply-link' href='https://doub.io/wlzy-32/?replytocom=13612#respond' onclick='return addComment.moveForm( "div-comment-13612", "13612", "respond", "2050" )' aria-label='回复给heike'>回复</a></div></div></div><ul class="children">
<li class="comment odd alt depth-3" id="comment-13613"><div class="c-avatar"><div class="c-main" id="div-comment-13613">和udp        0      0 0.0.0.0:53              0.0.0.0:*                           24094/dnsmasq<div class="c-meta"><span class="c-author">heike</span>2017-05-09 19:24 <a rel='nofollow' class='comment-reply-link' href='https://doub.io/wlzy-32/?replytocom=13613#respond' onclick='return addComment.moveForm( "div-comment-13613", "13613", "respond", "2050" )' aria-label='回复给heike'>回复</a></div></div></div><ul class="children">
<li class="comment even depth-4" id="comment-13614"><div class="c-avatar"><div class="c-main" id="div-comment-13614">我把listen-address=改成自己的内网ip意外成功了。不造为什么。<div class="c-meta"><span class="c-author">heike</span>2017-05-09 20:15 <a rel='nofollow' class='comment-reply-link' href='https://doub.io/wlzy-32/?replytocom=13614#respond' onclick='return addComment.moveForm( "div-comment-13614", "13614", "respond", "2050" )' aria-label='回复给heike'>回复</a></div></div></div><ul class="children">
<li class="comment byuser comment-author-minamisindery bypostauthor odd alt depth-5" id="comment-13978"><div class="c-avatar"><div class="c-main" id="div-comment-13978">listen-address是监听地址<div class="c-meta"><span class="c-author"><a href='https://www.nanqinlang.com/' rel='external nofollow' class='url'>南琴浪</a></span>2017-05-19 23:41 <a rel='nofollow' class='comment-reply-link' href='https://doub.io/wlzy-32/?replytocom=13978#respond' onclick='return addComment.moveForm( "div-comment-13978", "13978", "respond", "2050" )' aria-label='回复给南琴浪'>回复</a></div></div></div></li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="comment-13584"><div class="c-avatar"><div class="c-main" id="div-comment-13584">可以试试我整理的dnsmasq规则。
https://raw.githubusercontent.com/sy618/hosts/master/dnsmasq/dnsfq<div class="c-meta"><span class="c-author">619</span>2017-05-09 00:02 <a rel='nofollow' class='comment-reply-link' href='https://doub.io/wlzy-32/?replytocom=13584#respond' onclick='return addComment.moveForm( "div-comment-13584", "13584", "respond", "2050" )' aria-label='回复给619'>回复</a></div></div></div></li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-13262"><div class="c-avatar"><div class="c-main" id="div-comment-13262"><a href="q6b2hdbe.html" class="__cf_email__" data-cfemail="aad8c5c5deeacecfc8c3cbc4">[email&#160;protected]</a>:/home/lyf# service dnsmasq restart
Job for dnsmasq.service failed. See 'systemctl status dnsmasq.service' and 'journalctl -xn' for details.
提示此错误该如何解决求教！谢谢！<div class="c-meta"><span class="c-author">Hilo</span>2017-04-29 00:50 <a rel='nofollow' class='comment-reply-link' href='https://doub.io/wlzy-32/?replytocom=13262#respond' onclick='return addComment.moveForm( "div-comment-13262", "13262", "respond", "2050" )' aria-label='回复给Hilo'>回复</a></div></div></div><ul class="children">
<li class="comment byuser comment-author-minamisindery bypostauthor even depth-2" id="comment-13423"><div class="c-avatar"><div class="c-main" id="div-comment-13423">你的是debian8吗 那就应该用systemctl而不是service；
如果是启动失败就得检查下配置文件<div class="c-meta"><span class="c-author"><a href='https://www.nanqinlang.com/' rel='external nofollow' class='url'>南琴浪</a></span>2017-05-03 23:18 <a rel='nofollow' class='comment-reply-link' href='https://doub.io/wlzy-32/?replytocom=13423#respond' onclick='return addComment.moveForm( "div-comment-13423", "13423", "respond", "2050" )' aria-label='回复给南琴浪'>回复</a></div></div></div></li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="comment-13060"><div class="c-avatar"><div class="c-main" id="div-comment-13060">建这个服务器有什么要求吗？怎么我见建不到？别说翻墙了，就连正常的网页都没办法解析。<div class="c-meta"><span class="c-author">chx818</span>2017-04-22 22:10 <a rel='nofollow' class='comment-reply-link' href='https://doub.io/wlzy-32/?replytocom=13060#respond' onclick='return addComment.moveForm( "div-comment-13060", "13060", "respond", "2050" )' aria-label='回复给chx818'>回复</a></div></div></div><ul class="children">
<li class="comment byuser comment-author-minamisindery bypostauthor even depth-2" id="comment-13084"><div class="c-avatar"><div class="c-main" id="div-comment-13084">是linux就行的 完全不能解析的话应该是哪里配置有误<div class="c-meta"><span class="c-author"><a href='https://www.nanqinlang.com/' rel='external nofollow' class='url'>南琴浪</a></span>2017-04-23 20:45 <a rel='nofollow' class='comment-reply-link' href='https://doub.io/wlzy-32/?replytocom=13084#respond' onclick='return addComment.moveForm( "div-comment-13084", "13084", "respond", "2050" )' aria-label='回复给南琴浪'>回复</a></div></div></div></li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-12851"><div class="c-avatar"><div class="c-main" id="div-comment-12851">是不是只要是国外的vps，53端口都会被污染，因为我试了下阿里云的貌似就可以正常解析dns<div class="c-meta"><span class="c-author">ecareyu</span>2017-04-16 10:16 <a rel='nofollow' class='comment-reply-link' href='https://doub.io/wlzy-32/?replytocom=12851#respond' onclick='return addComment.moveForm( "div-comment-12851", "12851", "respond", "2050" )' aria-label='回复给ecareyu'>回复</a></div></div></div><ul class="children">
<li class="comment byuser comment-author-toyo even depth-2" id="comment-12852"><div class="c-avatar"><div class="c-main" id="div-comment-12852">是，墙会监听 53端口，而DNS都是明文的UDP，所以很容易被墙发现，然后伪造假的IP提前返回给你，达到污染的目的。<div class="c-meta"><span class="c-author"><a href='index.html' rel='external nofollow' class='url'>Toyo</a></span>2017-04-16 10:36 <a rel='nofollow' class='comment-reply-link' href='https://doub.io/wlzy-32/?replytocom=12852#respond' onclick='return addComment.moveForm( "div-comment-12852", "12852", "respond", "2050" )' aria-label='回复给Toyo'>回复</a></div></div></div></li><!-- #comment-## -->
<li class="comment byuser comment-author-minamisindery bypostauthor odd alt depth-2" id="comment-13029"><div class="c-avatar"><div class="c-main" id="div-comment-13029">国内dns根本就不需要污染（不存在污染这回事） 本来就是被监管 已经和谐过的。<div class="c-meta"><span class="c-author"><a href='https://www.nanqinlang.com/' rel='external nofollow' class='url'>南琴浪</a></span>2017-04-21 20:45 <a rel='nofollow' class='comment-reply-link' href='https://doub.io/wlzy-32/?replytocom=13029#respond' onclick='return addComment.moveForm( "div-comment-13029", "13029", "respond", "2050" )' aria-label='回复给南琴浪'>回复</a></div></div></div></li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="comment-12444"><div class="c-avatar"><div class="c-main" id="div-comment-12444">这个可以应用到路由器里面吗？<div class="c-meta"><span class="c-author">Matt9049</span>2017-04-05 09:24 <a rel='nofollow' class='comment-reply-link' href='https://doub.io/wlzy-32/?replytocom=12444#respond' onclick='return addComment.moveForm( "div-comment-12444", "12444", "respond", "2050" )' aria-label='回复给Matt9049'>回复</a></div></div></div><ul class="children">
<li class="comment byuser comment-author-toyo odd alt depth-2" id="comment-12449"><div class="c-avatar"><div class="c-main" id="div-comment-12449">应该是可以的。<div class="c-meta"><span class="c-author"><a href='index.html' rel='external nofollow' class='url'>Toyo</a></span>2017-04-05 10:21 <a rel='nofollow' class='comment-reply-link' href='https://doub.io/wlzy-32/?replytocom=12449#respond' onclick='return addComment.moveForm( "div-comment-12449", "12449", "respond", "2050" )' aria-label='回复给Toyo'>回复</a></div></div></div></li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="comment-12220"><div class="c-avatar"><div class="c-main" id="div-comment-12220">之前试过了，解析出来的依然是被污染的IP，去广告到确实是可以滴<div class="c-meta"><span class="c-author">owen</span>2017-03-30 23:31 <a rel='nofollow' class='comment-reply-link' href='https://doub.io/wlzy-32/?replytocom=12220#respond' onclick='return addComment.moveForm( "div-comment-12220", "12220", "respond", "2050" )' aria-label='回复给owen'>回复</a></div></div></div><ul class="children">
<li class="comment byuser comment-author-minamisindery bypostauthor odd alt depth-2" id="comment-12222"><div class="c-avatar"><div class="c-main" id="div-comment-12222">监听端口使用5353的就可以绕过53污染了<div class="c-meta"><span class="c-author"><a href='https://www.nanqinlang.com/' rel='external nofollow' class='url'>南琴浪</a></span>2017-03-31 00:08 <a rel='nofollow' class='comment-reply-link' href='https://doub.io/wlzy-32/?replytocom=12222#respond' onclick='return addComment.moveForm( "div-comment-12222", "12222", "respond", "2050" )' aria-label='回复给南琴浪'>回复</a></div></div></div><ul class="children">
<li class="comment even depth-3" id="comment-12225"><div class="c-avatar"><div class="c-main" id="div-comment-12225">围观本人！<div class="c-meta"><span class="c-author">kurokitomoko</span>2017-03-31 09:12 <a rel='nofollow' class='comment-reply-link' href='https://doub.io/wlzy-32/?replytocom=12225#respond' onclick='return addComment.moveForm( "div-comment-12225", "12225", "respond", "2050" )' aria-label='回复给kurokitomoko'>回复</a></div></div></div><ul class="children">
<li class="comment odd alt depth-4" id="comment-12229"><div class="c-avatar"><div class="c-main" id="div-comment-12229">多谢围观（#滑稽）<div class="c-meta"><span class="c-author"><a href='https://www.nanqinlang.com/' rel='external nofollow' class='url'>南琴浪</a></span>2017-03-31 11:44 <a rel='nofollow' class='comment-reply-link' href='https://doub.io/wlzy-32/?replytocom=12229#respond' onclick='return addComment.moveForm( "div-comment-12229", "12229", "respond", "2050" )' aria-label='回复给南琴浪'>回复</a></div></div></div></li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="comment-12212"><div class="c-avatar"><div class="c-main" id="div-comment-12212">只要把gfwlist里面的网址全部复制就可以愉悦科学了吧 <img data-original="https://doub.io/wp-content/themes/yusi1.0/img/smilies/icon_lol.gif" alt=":lol:" class="wp-smiley" style="height: 1em; max-height: 1em;" /> 
好麻烦<div class="c-meta"><span class="c-author">kurokitomoko</span>2017-03-30 21:50 <a rel='nofollow' class='comment-reply-link' href='https://doub.io/wlzy-32/?replytocom=12212#respond' onclick='return addComment.moveForm( "div-comment-12212", "12212", "respond", "2050" )' aria-label='回复给kurokitomoko'>回复</a></div></div></div><ul class="children">
<li class="comment odd alt depth-2" id="comment-12213"><div class="c-avatar"><div class="c-main" id="div-comment-12213">不过这个可以应用到ps4呢 <img data-original="https://doub.io/wp-content/themes/yusi1.0/img/smilies/icon_lol.gif" alt=":lol:" class="wp-smiley" style="height: 1em; max-height: 1em;" /><div class="c-meta"><span class="c-author">kurokitomoko</span>2017-03-30 21:59 <a rel='nofollow' class='comment-reply-link' href='https://doub.io/wlzy-32/?replytocom=12213#respond' onclick='return addComment.moveForm( "div-comment-12213", "12213", "respond", "2050" )' aria-label='回复给kurokitomoko'>回复</a></div></div></div></li><!-- #comment-## -->
<li class="comment byuser comment-author-toyo even depth-2" id="comment-12216"><div class="c-avatar"><div class="c-main" id="div-comment-12216">我记得网上有那些整理好的 DNS列表，直接替换里面的SNI代理IP为自己的SNI代理IP，然后放到<code> /etc/dnsmasq.d/ </code>文件夹下即可。<br />
不过我找不到那个链接了。。。<div class="c-meta"><span class="c-author"><a href='index.html' rel='external nofollow' class='url'>Toyo</a></span>2017-03-30 22:10 <a rel='nofollow' class='comment-reply-link' href='https://doub.io/wlzy-32/?replytocom=12216#respond' onclick='return addComment.moveForm( "div-comment-12216", "12216", "respond", "2050" )' aria-label='回复给Toyo'>回复</a></div></div></div><ul class="children">
<li class="comment odd alt depth-3" id="comment-12410"><div class="c-avatar"><div class="c-main" id="div-comment-12410">这个妾这里有，是个python脚本的来着，上次找dnscrypt的时候偶然发现<div class="c-meta"><span class="c-author"><a href='https://blog.ahokitsune.org/' rel='external nofollow' class='url'>犬走つばき</a></span>2017-04-04 07:57 <a rel='nofollow' class='comment-reply-link' href='https://doub.io/wlzy-32/?replytocom=12410#respond' onclick='return addComment.moveForm( "div-comment-12410", "12410", "respond", "2050" )' aria-label='回复给犬走つばき'>回复</a></div></div></div><ul class="children">
<li class="comment byuser comment-author-toyo even depth-4" id="comment-12425"><div class="c-avatar"><div class="c-main" id="div-comment-12425">已经加入脚本使用步骤到文章里了 <img data-original="https://doub.io/wp-content/themes/yusi1.0/img/smilies/icon_lol.gif" alt=":lol:" class="wp-smiley" style="height: 1em; max-height: 1em;" /><div class="c-meta"><span class="c-author"><a href='index.html' rel='external nofollow' class='url'>Toyo</a></span>2017-04-04 14:11 <a rel='nofollow' class='comment-reply-link' href='https://doub.io/wlzy-32/?replytocom=12425#respond' onclick='return addComment.moveForm( "div-comment-12425", "12425", "respond", "2050" )' aria-label='回复给Toyo'>回复</a></div></div></div><ul class="children">
<li class="comment odd alt depth-5" id="comment-12476"><div class="c-avatar"><div class="c-main" id="div-comment-12476">厉害 超级详细有用的教程！ 回帖的小伙伴也好有爱 <img data-original="https://doub.io/wp-content/themes/yusi1.0/img/smilies/icon_idea.gif" alt=":idea:" class="wp-smiley" style="height: 1em; max-height: 1em;" /><div class="c-meta"><span class="c-author">s0r</span>2017-04-05 20:39 <a rel='nofollow' class='comment-reply-link' href='https://doub.io/wlzy-32/?replytocom=12476#respond' onclick='return addComment.moveForm( "div-comment-12476", "12476", "respond", "2050" )' aria-label='回复给s0r'>回复</a></div></div></div></li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	</ol>
	<div class="commentnav"	>
			</div>
</div>
</div>
			</div>
</div>
</div>
<aside class="sidebar">	
<div class="widget_text widget widget_custom_html"><div class="textwidget custom-html-widget"><div style="position: absolute;left: 4px;top: 4px;font-size: 12px;color: #000;border: 1px solid #000;line-height: 12px;opacity: 0.5;">广告</div>
<a title="特别声明：此图片为广告投放，与本站无任何关系。" target="_blank" href="https://walllink.tw"><img src="2829kfuq.png" /></a></div></div><div class="widget_text widget widget_custom_html"><div class="textwidget custom-html-widget"><div style="text-align:center;padding: 10px 20px 5px;display: block;">
<a class="wid-xiaobai" style="background-color: #03A9F4;padding-top:15px;padding-bottom:15px;font-size: 16px;font-weight: bold;" target="_blank" href="dibdjmr6.html">逗比根据地 所有文章教程分类合辑</a>
<a class="wid-xiaobai" style="background-color: #1ABCFF;padding-top: 7px;padding-bottom: 7px;font-weight: bold;font-size: 15px;" target="_blank" href="mc1t27yh.html">CDN 复活被墙IP 继续做代理</a>
<a class="wid-xiaobai" style="background-color: #1ABCFF;padding-top: 7px;padding-bottom: 7px;font-weight: bold;font-size: 15px;" target="_blank" href="s3y0lufe.html">KCP 复活被墙IP 继续做代理</a>
<a class="wid-xiaobai" style="background-color: #1ABCF7;" target="_blank" href="aybh4ww5-2.html">小众轻量代理 Brook 一键脚本</a>
<a class="wid-xiaobai" style="background-color: #1ABCED;" target="_blank" href="g4b_0oy6.html">Brook Tools 客户端 使用教程</a>
<a class="wid-xiaobai" style="background-color: #1ABCE9;" target="_blank" href="m2qf_iyd.html">Brook 新手小白 视频使用教程</a>
<a class="wid-xiaobai" style="background-color: #1ABCE7;" target="_blank" href="xcwybsz2.html">小众轻量代理 DAZE 一键脚本</a>
<a class="wid-xiaobai" style="background-color: #1ABCE5;" target="_blank" href="ouiwm7ss-2.html">DAZE Tools 客户端 使用教程</a>
<a class="wid-xiaobai" style="background-color: #1ABCE3;" target="_blank" href="juxwmu1i.html">小众轻量代理 Goflyway 一键脚本</a>
<a class="wid-xiaobai" style="background-color: #1ABCD9;" target="_blank" href="7btobhno.html">Goflyway Tools 客户端 使用教程</a>
<a class="wid-xiaobai" style="background-color: #1ABCD4;" target="_blank" href="tp_-ic2f.html">虚拟主机搭建 YouTube 私人镜像</a>
<a class="wid-xiaobai" style="background-color: #1ABCCF;" target="_blank" href="z2a4lk3l.html">ShadowsocksR 单用户 一键脚本</a>
<a class="wid-xiaobai" style="background-color: #1ABCC5;" target="_blank" href="z2a4lk3l-2.html">ShadowsocksR 多用户 一键脚本</a>
<a class="wid-xiaobai" style="background-color: #1ABCBA;" target="_blank" href="3--didfb-2.html">Linux 优化加速技巧&nbsp; BBR 一键脚本</a>
<a class="wid-xiaobai" style="background-color: #1ABCB0;" target="_blank" href="gqnmhax9.html">Linux 优化加速技巧&nbsp;  锐速 一键脚本</a>
<a class="wid-xiaobai" style="background-color: #1ABCA6;" target="_blank" href="q7gcd25g.html">Linux 优化加速 LotServer 一键脚本</a>
<a class="wid-xiaobai" style="background-color: #1abc9c;" target="_blank" href="0e6gd2jc.html">锐速 / LotServer 配置参数简单说明</a>
<a class="wid-xiaobai" style="background-color: #E91E77;" target="_blank" href="ouiwm7ss.html">一键搭建最简单网盘 &nbsp;FileManager</a>
<a class="wid-xiaobai" style="background-color: #E91E63;" target="_blank" href="nr2hjmg2.html">Cisco AnyConnect VPN&nbsp;&nbsp;&nbsp;一键脚本</a>
<a class="wid-xiaobai" style="background-color: #E91E59;" target="_blank" href="tfma58rb.html">Linux封禁垃圾邮件/BT/PT 一键脚本</a>
<a class="wid-xiaobai" style="background-color: #E91E4F;" target="_blank" href="plucovvc.html">VPS 搭建 WordPress 博客 视频教程</a>
<a class="wid-xiaobai" style="background-color: #E91E3B;" target="_blank" href="q7gcd25g-2.html">BT/磁力离线下载神器 Cloud Torrent</a>
<a class="wid-xiaobai" style="background-color: #E91E27;" target="_blank" href="zuigoj__.html">BT/磁力离线下载神器 Aria2 一键脚本</a>
<a class="wid-xiaobai" style="background-color: #2d2d2d;" target="_blank" href="bqjxhzxr.html">PayPal 更换汇率结算方式降低手续费</a>
</div></div></div><div class="widget_text widget widget_custom_html"><div class="textwidget custom-html-widget"><div style="background-color: #eee;">
<div style="position: absolute;margin-left: 4px;margin-top: 4px;font-size: 12px;color: #000;border: 1px solid #000;line-height: 12px;opacity: 0.5;">广告</div>
<a title="特别声明：此图片为广告投放，与本站无任何关系。" target="_blank" href="https://doub.io/go/kanfanba/"><img style="margin-bottom: 10px;" src="7komc_m0.png"/></a>
<div style="position: absolute;margin-left: 4px;margin-top: 4px;width: 24px;font-size: 12px;color: #000;border: 1px solid #000;line-height: 12px;opacity: 0.5;">广告</div>

<div id="guangg_image"></div>
<script data-cfasync="false" src="hnpipwj_.js"></script><script type="text/javascript">
var image_url=new Array()
image_url=["https://doub.io/go/vultr-100/","vh8576m0.html","https://doub.io/go/virmach-kvm/"]
var guangg_url=new Array()
guangg_url=["2ggwga1a.png","hpvcwrn6.png","ivndglg6.png"]
guangg_id=Math.floor(Math.random()*3)
imageurl = image_url[guangg_id]
guanggurl = guangg_url[guangg_id]
document.getElementById("guangg_image").innerHTML = "<a target=\"_blank\" title=\"特别声明：此图片为广告投放，与本站无任何关系。\" href="+imageurl+">"+"<img src="+guanggurl+" /></a>";
</script>
</div></div></div><div class="widget_text widget widget_custom_html"><div class="title"><h2>原创の更新</h2></div><div class="textwidget custom-html-widget"><div class="hot-posts">
	<ul>
		<li>
			<p><span class="post-comments"><i class="fa fa-clock-o"></i>2018/11/10</span></p>
			<span class="label label-1">v1.0.1</span>
			<a target="_blank" href="es5fj9se.html" title="点击进入该文件的介绍页面。">MTProxy_go.sh</a><img style="margin-left: 5px;margin-bottom: 4px;" src="aabmo546.gif"/>
		</li>
		<li>
			<p><span class="post-comments"><i class="fa fa-clock-o"></i>2018/11/10</span></p>
			<span class="label label-2">v1.0.8</span>
			<a target="_blank" href="939koj07-2.html" title="点击进入该文件的介绍页面。">MTProxy.sh</a><img style="margin-left: 5px;margin-bottom: 4px;" src="aabmo546.gif"/>
		</li>
		<li>
			<p><span class="post-comments"><i class="fa fa-clock-o"></i>2018/11/07</span></p>
			<span class="label label-3">v1.0.0</span>
			<a target="_blank" href="kd691l4o.html" title="点击进入该文件的介绍页面。">ss-go.sh</a><img style="margin-left: 5px;margin-bottom: 4px;" src="aabmo546.gif"/>
		</li>
		<li>
			<p><span class="post-comments"><i class="fa fa-clock-o"></i>2018/11/02</span></p>
			<span class="label label-4">v1.0.4</span>
			<a target="_blank" href="aybh4ww5.html" title="点击进入该文件的介绍页面。">Gfw_push.sh</a>
		</li>
		<li>
			<p><span class="post-comments"><i class="fa fa-clock-o"></i>2018/10/29</span></p>
			<span class="label label-5">v1.0.0</span>
			<a target="_blank" href="es5fj9se.html" title="点击进入该文件的介绍页面。">MTProxy_go.sh</a>
		</li>
		<li>
			<p><span class="post-comments"><i class="fa fa-clock-o"></i>2018/10/29</span></p>
			<span class="label label-5">v1.0.3</span>
			<a target="_blank" href="aybh4ww5.html" title="点击进入该文件的介绍页面。">Gfw_push.sh</a>
		</li>
		<li>
			<p><span class="post-comments"><i class="fa fa-clock-o"></i>2018/10/25</span></p>
			<span class="label label-5">v1.0.2</span>
			<a target="_blank" href="aybh4ww5.html" title="点击进入该文件的介绍页面。">Gfw_push.sh</a>
		</li>
		<li>
			<p><span class="post-comments"><i class="fa fa-clock-o"></i>2018/10/25</span></p>
			<span class="label label-5">v1.0.1</span>
			<a target="_blank" href="aybh4ww5.html" title="点击进入该文件的介绍页面。">Gfw_push.sh</a>
		</li>
		<li>
			<p><span class="post-comments"><i class="fa fa-clock-o"></i>2018/10/25</span></p>
			<span class="label label-5">v1.0.0</span>
			<a target="_blank" href="aybh4ww5.html" title="点击进入该文件的介绍页面。">Gfw_push.sh</a>
		</li>
		<li>
			<p><span class="post-comments"><i class="fa fa-clock-o"></i>2018/10/21</span></p>
			<span class="label label-5">v1.0.0</span>
			<a target="_blank" href="ouiwm7ss-2.html" title="点击进入该文件的介绍页面。">DAZE Tools</a>
		</li>
	</ul>
</div></div></div><div class="widget d_tag"><div class="title"><h2>逗比の标签</h2></div><div class="d_tags"><a title="60个话题" target="_blank" href="oyjpgxqd.html">Shadowsocks (60)</a><a title="47个话题" target="_blank" href="meyy1poe.html">脚本 (47)</a><a title="45个话题" target="_blank" href="4y92q0ka.html">教程 (45)</a><a title="32个话题" target="_blank" href="g6hfu0lq.html">ShadowsocksR (32)</a><a title="30个话题" target="_blank" href="sgi86h8e.html">科学上网 (30)</a><a title="20个话题" target="_blank" href="8jt8-s05.html">shell (20)</a><a title="19个话题" target="_blank" href="tjolx2iu.html">VPS (19)</a><a title="18个话题" target="_blank" href="-hbe9vty.html">Linux (18)</a><a title="16个话题" target="_blank" href="cxrndpz0.html">VPN (16)</a><a title="11个话题" target="_blank" href="jeptq9ir.html">BT (11)</a><a title="10个话题" target="_blank" href="4tdyvzjl.html">磁力链接 (10)</a><a title="9个话题" target="_blank" href="xyx3p-8d.html">原创软件 (9)</a><a title="9个话题" target="_blank" href="4_30fwtg.html">端口转发 (9)</a><a title="9个话题" target="_blank" href="f5sdy8y0.html">百度云 (9)</a><a title="9个话题" target="_blank" href="nhe7u58y.html">Brook (9)</a><a title="8个话题" target="_blank" href="_2p4tau_.html">国内中转 (8)</a><a title="8个话题" target="_blank" href="7-nhh6os.html">反向代理 (8)</a><a title="8个话题" target="_blank" href="861-ooh8.html">百度网盘 (8)</a><a title="7个话题" target="_blank" href="yx4tsq_0.html">GoFlyway (7)</a><a title="7个话题" target="_blank" href="esul7bla.html">搬瓦工 (7)</a></div></div></aside></section>
<footer class="footer">
    <div class="footer-inner">
        <div class="copyright pull-left">
         <a href="index.html" title="逗比根据地">逗比根据地</a> 版权所有，保留一切权利 · 基于 <a href="https://cn.wordpress.org/" target="_blank">WordPress</a> · <a href="vjer8vlp.html" target="_blank">欲思主题</a> © 2015-2018        </div>
        <div class="trackcode pull-right">
            <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "bk2yhbv_.js?8067e5ade532c4f3711b320f1e88f213";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-72227254-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-72227254-1');
</script>        </div>
    </div>
</footer>

<div class="nk73106-container nk73106-1 nk73106-hide">
    <div class="nk73106-body">
                <span class="close-btn fa fa-times-circle"> </span>
                        <div class="nk73106"></div>
    </div>
</div><script type='text/javascript' src='s5igkt3b.js?ver=1.0'></script>
<script type='text/javascript' src='2hrvdolu.js?ver=4.8.1'></script>

<script type="text/javascript">
var open = false;
$(function () {
    $("button[data-type='Widescreen']").on("click", function () {
        if (!open) {
            $(".sidebar").hide(); $(".content").animate({ marginRight: 0 }, 200);
        } else {
            $(".sidebar").show(); $(".content").animate({ marginRight: 370 }, 200);
        }
        open = !open;
    })
})
if(document.body.scrollWidth < 768){
    $(".hot-posts").hide();
}
</script>
<script>function lc_get_cookie(name) {var c = document.cookie;if (c.indexOf(name) != -1) {var x = c.indexOf(name)+name.length+1;var y = c.indexOf(";",x);if (y < 0) y = c.length;return decodeURIComponent(c.substring(x,y));} else return "";}if ((d = document.getElementById("commentform")) != null) { e = d.elements;var z = lc_get_cookie("comment_author_email_6971c5901860620dc711b8ea461af719");if (z != "") e["email"].value = z;z = lc_get_cookie("comment_author_6971c5901860620dc711b8ea461af719");if (z != "") e["author"].value = z.replace(/\+/g, " ");z = lc_get_cookie("comment_author_url_6971c5901860620dc711b8ea461af719");if (z != "") e["url"].value = z;}</script></body></html>